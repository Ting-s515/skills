---
name: export-conversation
description: 當我需要將本次對話的完整內容匯出 Markdown 檔案，以便其他AI MODEL繼續任務，請協助我完成這項任務。
argument-hint: "[輸出檔案路徑]"
---

## 輸出位置

- 如果用戶指定了輸出路徑 `$1`，將文件寫入該路徑
- 如果未指定路徑，詢問用戶要存放的位置與檔名

## 輸出格式

請依照以下模板結構生成 Markdown 檔案，確保其他 AI model 能快速理解並接續任務：

```markdown
# 對話紀錄匯出

> 匯出時間：YYYY-MM-DD HH:mm
> 專案路徑：[專案根目錄路徑]
> Git 分支：[當前分支名稱]

---

## 1. 任務摘要

<!-- 用 2-3 句話描述用戶的主要需求 -->

## 2. 目前進度

### ✅ 已完成
<!-- 條列已完成的工作項目 -->
- [x] 項目描述

### 🔄 進行中
<!-- 條列正在進行但未完成的工作 -->
- [ ] 項目描述（進度說明）

### ⏳ 待處理
<!-- 條列尚未開始的工作 -->
- [ ] 項目描述

## 3. 重要決策與原因

<!-- 記錄對話中做出的重要技術決策及其理由 -->

| 決策 | 原因 |
|------|------|
| 決策描述 | 為什麼這樣決定 |

## 4. 檔案變更紀錄

### 新增檔案
<!-- 列出新建立的檔案 -->
- `路徑/檔名` - 用途說明

### 修改檔案
<!-- 列出修改過的檔案及變更摘要 -->
- `路徑/檔名` - 變更摘要

### 刪除檔案
<!-- 列出刪除的檔案 -->
- `路徑/檔名` - 刪除原因

## 5. 關鍵程式碼片段

<!-- 記錄重要的程式碼變更，保留原始格式 -->

### [功能名稱]
檔案：`路徑/檔名`
```[語言]
// 關鍵程式碼
```

## 6. 遭遇的問題與解決方案

<!-- 記錄遇到的問題及如何解決 -->

| 問題 | 解決方案 |
|------|----------|
| 問題描述 | 如何解決 |

## 7. 接續建議

<!-- 給下一個 AI model 的建議，說明接下來應該做什麼 -->

### 優先處理
1. 最重要的待辦事項

### 注意事項
- 需要特別注意的地方

### 相關參考
- 相關文件或連結

---

## 8. 原始對話紀錄（摘要）

<!-- 保留重要的對話內容，省略冗餘部分 -->

### 用戶需求
> 用戶原始需求描述

### 關鍵討論
<!-- 保留重要的討論內容 -->

```

## 注意事項

- 不要包含此 command 本身的執行過程
- 程式碼區塊需保留原始格式與縮排
- 保持對話的時間順序
- 重點摘要，避免過於冗長（其他 AI 也有 token 限制）
- 檔案路徑使用相對路徑（相對於專案根目錄）
- 如果有 git 變更，記錄當前 commit hash 以便追蹤

## 執行步驟

1. 分析本次對話內容，提取關鍵資訊
2. 檢查 git 狀態（分支、變更檔案）
3. 依照輸出格式模板整理資訊
4. 將 Markdown 檔案寫入指定位置
5. 告知用戶檔案已生成
